actor EscapeOrb : ConsumableBase 
{
inventory.amount 1
inventory.maxamount 1
inventory.pickupmessage "$PU_ESCAPEORB"
Tag "$TAG_ESCAPEORB"
inventory.icon "EORBI"
Inventory.PickupSound "Misc/GetItem"
+INVBAR
+COUNTITEM
Translation "250:250=202:202", "192:192=74:74", "198:198=197:197"
scale 2.0
States
{
Spawn:
PITM F 0 
PITM F 6
Goto Spawn
use1:
TNT1 A 0 A_SpawnitemEX("EscapeOrbCast",0,0,0,0,0,0,0,0)
stop
}
}

actor EscapeOrbCast : BasicHelper
{
scale 2.5
Renderstyle "Normal"
+MISSILE
ReactionTime 12
Alpha 0.2
speed 7
States
{
Spawn:
TNT1 A 0
TNT1 A 0 A_PlaySoundEX("weapon/mirrorabsorb","Voice")
CRYE AAAAAABBCCDDEEAAAA 1 A_Warp(AAPTR_TARGET,0,0,80,0,WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
TNT1 A 5 A_SpawnitemEX("OrbFlashFX",0,0,0,0,0,0,0,0)
RFLC A 0 A_GiveToTarget("OrbEscape")
stop
}
}

actor OrbFlashFX
{
renderstyle "add"
+NOINTERACTION
+FORCEXYBILLBOARD
+CLIENTSIDEONLY
height 1
radius 1
alpha 1.0
scale 2.0
-SOLID
+NOGRAVITY
states
{
Spawn:
TNT1 A 0
TNT1 A 0 A_PlaySoundEX("weapon/CentaurFlash","Voice")
FST2 ABCDEF 1 A_FadeOut(0.12)
stop
}
}



actor OrbEscape : CustomInventory  
{
inventory.amount 1
inventory.maxamount 1
inventory.pickupmessage ""
inventory.icon ""
Inventory.PickupSound ""
Tag ""
scale 2.0
+INVENTORY.AUTOACTIVATE
states
{
Spawn:
EXIT BC 6
Loop
Pickup:
TNT1 A 0 ACS_NamedExecuteAlways("EscapeToSpawn",0)
stop
Death:
EXIT A 1
stop
}
}

actor TLMSOrbEscape : ArtiTeleport //10160
{
    inventory.amount 1
    inventory.maxamount 1
    inventory.pickupmessage ""
    inventory.icon ""
    Inventory.PickupSound ""
    Tag ""
    scale 2.0
    +INVENTORY.AUTOACTIVATE
states
{
Spawn:
EXIT BC 6
Loop
Death:
EXIT A 1
stop
}
}


actor BarrierOrb : ConsumableBase 
{
inventory.amount 1
inventory.maxamount 1
inventory.pickupmessage "$PU_BARRIERORB"
Tag "$TAG_BARRIERORB"
inventory.icon "EORBI"
Inventory.PickupSound "Misc/GetItem"
+INVBAR
+COUNTITEM
Translation "250:250=202:202", "192:192=74:74", "198:198=197:197"
scale 2.0
States
{
Spawn:
PITM F 0 
PITM F 6
Goto Spawn
use1:
TNT1 A 0 A_SpawnitemEX("BarrierOrbCast",0,0,0,0,0,0,0,0)
stop
}
}

actor BarrierOrbCast : BasicHelper
{
scale 2.5
Renderstyle "Normal"
+MISSILE
ReactionTime 12
Alpha 0.2
speed 7
States
{
Spawn:
TNT1 A 0
TNT1 A 0 A_PlaySoundEX("weapon/mirrorabsorb","Voice")
CRYE AAAAAABBCCDDEEAAAA 1 A_Warp(AAPTR_TARGET,0,0,80,0,WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
TNT1 A 5 A_SpawnitemEX("OrbFlashFX",0,0,0,0,0,0,0,0)
TNT1 A 3 ACS_NamedExecuteAlways("PKMNACS_RadiusGive",0,Reflect_Item,500,RG_TEAM|RG_SELF)
TNT1 A 3 ACS_NamedExecuteAlways("PKMNACS_RadiusGive",0,LightScreen_Item,500,RG_TEAM|RG_SELF)
TNT1 A 10
stop
}
}